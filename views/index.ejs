<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>用户中心</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .user-card {
      max-width: 600px;
      margin: 2rem auto;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    .provider-badge {
      position: absolute;
      top: 15px;
      right: 15px;
    }
    .user-avatar {
      width: 100px;
      height: 100px;
      font-size: 2.5rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="card user-card">
      <div class="card-header bg-primary text-white">
        <h2 class="text-center">用户信息</h2>
      </div>
      
      <div class="card-body position-relative">
        <% if (user && user.provider) { %>
          <span class="badge bg-info provider-badge">
            通过 
            <% if (providerName) { %>
              <%= providerName %>
            <% } else { %>
              <%= user.provider %>
            <% } %>
            登录
          </span>
        <% } %>
        
        <div class="text-center mb-4">
          <div class="bg-light rounded-circle d-inline-flex align-items-center justify-content-center user-avatar">
            <% if (user && user.displayName) { %>
              <%= user.displayName.charAt(0).toUpperCase() %>
            <% } else { %>
              ?
            <% } %>
          </div>
        </div>
        
        <div class="mb-3">
          <h4 class="text-center">
            <% if (user && user.displayName) { %>
              <%= user.displayName %>
            <% } else { %>
              未命名用户
            <% } %>
          </h4>
        </div>
        
        <dl class="row">
          <dt class="col-sm-3">邮箱</dt>
          <dd class="col-sm-9">
            <% if (user && user.email) { %>
              <%= user.email %>
            <% } else { %>
              无邮箱信息
            <% } %>
          </dd>
          
          <dt class="col-sm-3">用户ID</dt>
          <dd class="col-sm-9">
            <% if (user && user.id) { %>
              <%= user.id %>
            <% } else { %>
              未知ID
            <% } %>
          </dd>
          
          <dt class="col-sm-3">登录方式</dt>
          <dd class="col-sm-9">
            <% if (user && user.provider) { %>
              <span class="badge bg-secondary"><%= user.provider %></span>
            <% } else { %>
              未知方式
            <% } %>
          </dd>
          
          <% if (user && user.provider === 'local') { %>
            <dt class="col-sm-3">账户类型</dt>
            <dd class="col-sm-9">本地注册账户</dd>
          <% } %>
        </dl>
        
        <div class="d-grid">
          <a href="/auth/logout" class="btn btn-danger">退出登录</a>
        </div>
      </div>
      
      <div class="card-footer text-muted">
        <small>
          <% if (sessionID) { %>
            会话ID: <%= sessionID %>
          <% } else { %>
            无会话信息
          <% } %>
        </small>
      </div>
    </div>
  </div>
</body>
</html>